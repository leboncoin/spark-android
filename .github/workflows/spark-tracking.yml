name: ✨Test Component Traking

on:
  workflow_dispatch:

concurrency:
  group: '${{ github.workflow }}-${{ github.event.pull_request.head.label || github.head_ref || github.ref }}'
  cancel-in-progress: true

jobs:

  build:
    name: ✨ Spark
    strategy:
      matrix:
        runner: [small, medium, big]
    runs-on: ${{ matrix.runner }}
    timeout-minutes: 120
    steps:
      - uses: actions/checkout@v4
      - uses: ./.github/actions/setup-java
      - uses: ./.github/actions/setup-kotlin
      - run: ./scripts/component-usage-remort.main.kts catalog ./scripts/1.4.0-alpha02.json -l 5 -o ./build/reports/
      - uses: actions/upload-artifact@v3
        with:
          name: report
          path: "./build/reports/"